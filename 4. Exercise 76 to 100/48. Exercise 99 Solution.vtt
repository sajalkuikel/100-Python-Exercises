WEBVTT

0
00:01.710 --> 00:10.590
Hey, this is the solution to exercise 99 where we created this web application that was writing text

1
00:11.760 --> 00:13.010
in a text file.

2
00:13.260 --> 00:15.520
So we are using Flask. You need to install Flask

3
00:15.530 --> 00:24.230
if you haven't pip install Flask, and then from the Flask library you import the Flask class then render template

4
00:24.230 --> 00:34.320
string and request. And then you create an app instance, an app, a flask object which is a central object in

5
00:34.320 --> 00:44.160
a flask application and then you have to create some HTML because you know this is HTML,

6
00:44.370 --> 00:46.340
the thing that renders these web pages, HTML.

7
00:46.440 --> 00:49.070
It's not Python, you cannot build this with Python.

8
00:49.170 --> 00:55.660
So you need HTML, and then you start creating the URLs.

9
00:55.670 --> 00:58.330
So in the home URL

10
00:58.400 --> 01:00.630
You attach that URL with these functions.

11
01:00.630 --> 01:11.430
So when the user visits the home page which is localhost colon 5000, that's the home page without slash

12
01:11.470 --> 01:17.900
sent, when the user visits that you want to render the HTML strings.

13
01:17.900 --> 01:30.450
So this here which is this one in here, ok. And then you have another URL which is this one here.

14
01:30.560 --> 01:34.900
So it's a localhost colon 5000 slash sent.

15
01:37.630 --> 01:46.120
Here you want to specify a methods GET and POST. This by default is a get method, this first URL.

16
01:46.230 --> 01:52.800
This will have a post method which means this page can also get requests from the user.

17
01:52.820 --> 02:01.620
And a post method is when the user submits something to the server, to the web server so the

18
02:01.620 --> 02:02.740
user is submitting data.

19
02:02.740 --> 02:10.840
Therefore you need to able this app, this URL to get post requests.

20
02:11.590 --> 02:14.410
And this is the function we attached to this URL.

21
02:14.470 --> 02:19.350
So when of the user visits this you URL, this function will you be called.

22
02:20.080 --> 02:25.200
And what I'm doing here, is let's ignore this for now.

23
02:25.420 --> 02:34.000
I'm saying that if I get a post request, so I import a request from here, from here, if I get a post request,

24
02:34.030 --> 02:45.140
then line equals to request.form and line which corresponds with this name in here.

25
02:45.160 --> 02:55.690
So basically I'm getting from the form I am getting the text that the user is imputing in the input text

26
02:55.690 --> 02:56.530
box.

27
02:56.530 --> 03:01.840
So basically line here will be equal to line three for example.

28
03:02.060 --> 03:10.600
And then I open a text file in append mode so that I can append lines in the text file and then I write

29
03:10.600 --> 03:13.250
down the line in that text file.

30
03:13.660 --> 03:21.450
So I created a line equals to none here so that if the user doesn't send anything I don't get an error here

31
03:21.700 --> 03:28.280
saying that line is not defined, so I created a line equals to none and then...

32
03:28.710 --> 03:34.710
So if we get the post request we render the HTML string again.

33
03:34.720 --> 03:42.280
So we send the string, the text, the users text to the web server to the text file and then we render

34
03:42.310 --> 03:50.050
the page again so that the user can enter more lines. And  then this two are standard lines in a Flask application

35
03:50.650 --> 03:54.310
which is basically saying that if you are not importing this script,

36
03:54.310 --> 04:02.620
so if you're executing 99.py and you're not importing it from another file then run

37
04:02.620 --> 04:04.210
the app.

38
04:04.210 --> 04:12.670
So app.run. And you also have this debug equal to true which means that if your application is not

39
04:12.670 --> 04:13.200
running,

40
04:13.210 --> 04:18.950
you'll see some errors in your web page.

41
04:19.000 --> 04:27.910
So in localhost colon 5000. Yeah, that's the application. I know it's a bit too much if you haven't heard of Flask

42
04:27.910 --> 04:35.920
before so please try to go through a tutorial maybe go through my Python Mega Course that covers quite

43
04:35.920 --> 04:40.540
a lot of Flask and we're building quite a few applications there.

44
04:40.570 --> 04:43.030
And yeah, this is about this exercise.

45
04:43.030 --> 04:44.950
Hope you enjoyed it and I'll talk to you later.